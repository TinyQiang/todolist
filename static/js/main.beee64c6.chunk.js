(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){e.exports=a(363)},358:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);a(150);var n=a(1),i=a.n(n),s=a(73),l=a.n(s),o=a(12),c=a(74),d=a(75),u=a(78),r=a(76),h=a(11),p=a(79),m=a(366),v=a(365),f=a(58),b=a.n(f),y=!0,k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(r.a)(t).call(this,e))).state={inputValue:a.props.content,readStatus:y},a.handleItemStatusChange=a.handleItemStatusChange.bind(Object(h.a)(a)),a.handleDeleteClick=a.handleDeleteClick.bind(Object(h.a)(a)),a.handleContentClick=a.handleContentClick.bind(Object(h.a)(a)),a.handleContentEdit=a.handleContentEdit.bind(Object(h.a)(a)),a.handleInputBlur=a.handleInputBlur.bind(Object(h.a)(a)),a.handleDidInput=a.handleDidInput.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.content!==this.props.content||!t.readStatus||t.readStatus!==this.state.readStatus}},{key:"componentDidUpdate",value:function(e,t){t.readStatus!==this.state.readStatus&&this.input&&this.input.select()}},{key:"handleInputBlur",value:function(){var e=this.props,t=e.onEdit,a=e.index,n=e.type;t(this.state.inputValue,a,n),this.setState(function(){return{readStatus:y}})}},{key:"handleDidInput",value:function(e){13===e.keyCode&&this.handleInputBlur()}},{key:"handleDeleteClick",value:function(){var e=this.props;(0,e.onDelete)(e.index,e.type)}},{key:"handleItemStatusChange",value:function(){var e=this.props;(0,e.onFinish)(e.index,e.type)}},{key:"handleContentClick",value:function(){this.state.readStatus&&this.setState(function(){return{readStatus:!1}})}},{key:"handleContentEdit",value:function(e){var t=e.target.value;this.setState(function(){return{inputValue:t}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.itemId,n=t.done,s=this.handleInputBlur,l=this.handleDidInput,o=this.handleItemStatusChange,c=this.handleDeleteClick,d=this.handleContentEdit,u=this.state,r=u.readStatus,h=u.inputValue;return i.a.createElement("li",{className:"item",id:a,draggable:!0},i.a.createElement("input",{type:"checkbox",className:"checkbox",onChange:o,checked:n}),i.a.createElement("p",{className:"text",onClick:this.handleContentClick},r?h:i.a.createElement("input",{ref:function(t){e.input=t},onKeyUp:l,value:h,onBlur:s,onChange:d})),i.a.createElement("span",{className:"del-btn",onClick:c},"-"))}}]),t}(n.Component);k.defaultProps={draggable:!0};var O=k,E=(a(358),0),C=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(u.a)(this,Object(r.a)(t).call(this,e));var n=b.a.load("donelist"),i=b.a.load("todolist");i="undefined"===typeof i?[]:i,n="undefined"===typeof n?[]:n;for(var s=0,l=[].concat(Object(o.a)(i),Object(o.a)(n));s<l.length;s++){var d=l[s];d.key>E&&(E=d.key)}return E>0&&E++,a.state={todoList:i,doneList:n,inputValue:""},a.handleValueChange=a.handleValueChange.bind(Object(h.a)(a)),a.handleAddItem=a.handleAddItem.bind(Object(h.a)(a)),a.handleDelete=a.handleDelete.bind(Object(h.a)(a)),a.handleFinish=a.handleFinish.bind(Object(h.a)(a)),a.handleEdit=a.handleEdit.bind(Object(h.a)(a)),a.handleClear=a.handleClear.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"decorateKeyValue",value:function(e,t){return""+(t&&"string"===typeof t?t:"key-")+e}},{key:"genKeyValue",value:function(){return E++}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.todoList,a=e.doneList;b.a.save("donelist",a,{maxAge:31536e5}),b.a.save("todolist",t,{maxAge:31536e5})}},{key:"handleValueChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"handleAddItem",value:function(e){var t=this;if(13===e.keyCode){var a=this.state.inputValue;if(""===a)return void alert("please input something!");this.setState(function(){return{todoList:[].concat(Object(o.a)(t.state.todoList),[{value:a,key:t.genKeyValue()}]),inputValue:""}})}}},{key:"handleDelete",value:function(e,t){if("TODO"===t){var a=Object(o.a)(this.state.todoList);a.splice(e,1),this.setState({todoList:a})}else if("DONE"===t){var n=Object(o.a)(this.state.doneList);n.splice(e,1),this.setState({doneList:n})}}},{key:"handleFinish",value:function(e,t){var a=Object(o.a)(this.state.todoList),n=Object(o.a)(this.state.doneList);if("DONE"===t){var i=n.splice(e,1);a=[].concat(Object(o.a)(a),Object(o.a)(i))}else if("TODO"===t){var s=a.splice(e,1);n=[].concat(Object(o.a)(n),Object(o.a)(s))}this.setState({todoList:a,doneList:n})}},{key:"handleClear",value:function(){this.setState(function(){return{todoList:[],doneList:[],inputValue:""}},function(){E=0})}},{key:"handleEdit",value:function(e,t,a){if(e&&""!==e){if("TODO"===a){var n=Object(o.a)(this.state.todoList);n[t].value=e,this.setState({todoList:n})}else if("DONE"===a){var i=Object(o.a)(this.state.doneList);i[t].value=e,this.setState({doneList:i})}}else{alert("please input something!");var s=Object(o.a)(this.state.todoList),l=Object(o.a)(this.state.doneList);this.setState({todoList:s,doneList:l})}}},{key:"showTodoItems",value:function(){var e=this,t=this.state.todoList;return i.a.createElement(m.a,null,t.map(function(t,a){return i.a.createElement(v.a,{key:e.decorateKeyValue(t.key),timeout:500,classNames:"fade",appear:!0},i.a.createElement(O,{type:"TODO",index:a,content:t.value,done:!1,onDelete:e.handleDelete,onFinish:e.handleFinish,onEdit:e.handleEdit}))}))}},{key:"showDoneItems",value:function(){var e=this,t=this.state.doneList;return i.a.createElement(m.a,null,t.map(function(t,a){return i.a.createElement(v.a,{key:e.decorateKeyValue(t.key),timeout:500,classNames:"fade",appear:!0},i.a.createElement(O,{key:e.decorateKeyValue(t.key),type:"DONE",index:a,done:!0,content:t.value,onDelete:e.handleDelete,onFinish:e.handleFinish,onEdit:e.handleEdit}))}))}},{key:"render",value:function(){return i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"section header-section"},i.a.createElement("span",{className:"left main-title"},"ToDoList"),i.a.createElement("div",{className:"right"},i.a.createElement("input",{className:"add-input-box",placeholder:"\u6dfb\u52a0ToDo",value:this.state.inputValue,onChange:this.handleValueChange,onKeyUp:this.handleAddItem})))),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"section list-section"},i.a.createElement("span",{className:"left title"},"\u6b63\u5728\u8fdb\u884c"),i.a.createElement("span",{className:"right count"},this.state.todoList.length),i.a.createElement("ul",{className:"list todo-list"},this.showTodoItems())),i.a.createElement("div",{className:"section list-section"},i.a.createElement("span",{className:"left title"},"\u5df2\u7ecf\u5b8c\u6210"),i.a.createElement("span",{className:"right count"},this.state.doneList.length),i.a.createElement("ul",{className:"list done-list"},this.showDoneItems()))),i.a.createElement("div",{className:"footer"},i.a.createElement("div",{className:"section footer-section"},i.a.createElement("span",{className:"copyright"},"Copyright \xa9 2019 qiang"),i.a.createElement("span",{className:"clear-btn",onClick:this.handleClear},"clear"))))}}]),t}(n.Component);l.a.render(i.a.createElement(C,null),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.beee64c6.chunk.js.map