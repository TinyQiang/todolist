{"version":3,"sources":["TodoItem.js","TodoList.js","index.js"],"names":["STATUS_READ","TodoItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","inputValue","content","readStatus","handleItemStatusChange","bind","assertThisInitialized","handleDeleteClick","handleContentClick","handleContentEdit","handleInputBlur","handleDidInput","nextProps","nextState","prevProps","prevState","input","select","_this$props","onEdit","index","type","setState","e","keyCode","_this$props2","onDelete","_this$props3","onFinish","value","target","_this2","_this$props4","itemId","done","_this$state","react_default","a","createElement","className","id","draggable","onChange","checked","onClick","ref","onKeyUp","onBlur","Component","defaultProps","keyDefaultUniqueVal","TodoList","doneList","cookie","load","todoList","_i","_arr","concat","toConsumableArray","length","item","key","handleValueChange","handleAddItem","handleDelete","handleFinish","handleEdit","handleClear","val","prefix","save","maxAge","alert","genKeyValue","list","splice","tempList","_this3","TransitionGroup","map","CSSTransition","decorateKeyValue","timeout","classNames","appear","src_TodoItem","_this4","react","placeholder","showTodoItems","showDoneItems","ReactDOM","render","src_TodoList","document","getElementById"],"mappings":"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","file":"static/js/main.beee64c6.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst STATUS_READ = true;\r\nconst STATUS_EDIT = false;\r\n\r\nclass TodoItem extends Component {\r\n\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      inputValue: this.props.content,\r\n      readStatus: STATUS_READ\r\n    };\r\n\r\n    this.handleItemStatusChange = this.handleItemStatusChange.bind(this);\r\n    this.handleDeleteClick = this.handleDeleteClick.bind(this);\r\n    this.handleContentClick = this.handleContentClick.bind(this);\r\n    this.handleContentEdit = this.handleContentEdit.bind(this);\r\n    this.handleInputBlur = this.handleInputBlur.bind(this);\r\n    this.handleDidInput = this.handleDidInput.bind(this);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextProps.content === this.props.content && nextState.readStatus && nextState.readStatus === this.state.readStatus) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * 时间：组件重新渲染后调用，在初始化渲染的时候该方法不会被调用。\r\n   * 作用：使用该方法可以在组件更新之后操作DOM元素。\r\n   */\r\n  componentDidUpdate (prevProps, prevState) {\r\n    if (prevState.readStatus !== this.state.readStatus) {\r\n      this.input && this.input.select();\r\n    }\r\n  }\r\n\r\n  handleInputBlur () {\r\n    const {onEdit, index, type} = this.props;\r\n    onEdit(this.state.inputValue, index, type);\r\n    this.setState(() => ({readStatus: STATUS_READ}));\r\n  }\r\n\r\n  handleDidInput (e) {\r\n    if (e.keyCode === 13) {\r\n      this.handleInputBlur();\r\n    }\r\n  }\r\n\r\n  handleDeleteClick () {\r\n    const {onDelete, index, type} = this.props;\r\n    onDelete(index, type);\r\n  }\r\n\r\n  handleItemStatusChange () {\r\n    const {onFinish, index, type} = this.props;\r\n    onFinish(index, type);\r\n  }\r\n\r\n  handleContentClick () {\r\n    if (this.state.readStatus) {\r\n      this.setState(() => ({readStatus: STATUS_EDIT}));\r\n    }\r\n  }\r\n\r\n  handleContentEdit (e) {\r\n    const value = e.target.value;\r\n    this.setState(() => ({inputValue: value}));\r\n  }\r\n\r\n  render() {\r\n\r\n    const { itemId, done } = this.props;\r\n    const { handleInputBlur, handleDidInput, handleItemStatusChange, handleDeleteClick, handleContentEdit } = this;\r\n    const { readStatus, inputValue } = this.state;\r\n    return (\r\n      <li \r\n        className=\"item\" \r\n        id={itemId} \r\n        draggable={true} \r\n      >\r\n        <input type=\"checkbox\" className=\"checkbox\" onChange={handleItemStatusChange} checked={done}/>\r\n        <p className=\"text\" onClick={this.handleContentClick}>\r\n          { \r\n            readStatus ? inputValue : <input \r\n                ref={(input) => {this.input = input}} \r\n                onKeyUp={handleDidInput}\r\n                value={inputValue} \r\n                onBlur={handleInputBlur} \r\n                onChange={handleContentEdit}\r\n              />\r\n          }\r\n          </p>\r\n        <span className=\"del-btn\" onClick={handleDeleteClick}>-</span>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nTodoItem.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  done: PropTypes.bool.isRequired,\r\n  content: PropTypes.string.isRequired,\r\n  onDelete: PropTypes.func,\r\n  onFinish: PropTypes.func,\r\n  onEdit: PropTypes.func\r\n}\r\n\r\nTodoItem.defaultProps = {\r\n  draggable: true\r\n}\r\n\r\nexport default TodoItem;","import React, { Component, Fragment } from 'react';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\nimport cookie from 'react-cookies';\r\nimport TodoItem from './TodoItem';\r\nimport './style.css';\r\n\r\n\r\nconst COOKIES_MAX_AGE = 100 * 365 * 24 * 60 * 60;\r\nconst TYPE_DONE = 'DONE';\r\nconst TYPE_TODO = 'TODO';\r\nconst KEY_DEFAULT_PREFIX = 'key-';\r\nvar keyDefaultUniqueVal = 0;\r\n\r\nclass TodoList extends Component {\r\n\r\n  constructor (props) {\r\n    super(props);\r\n    let doneList = cookie.load('donelist');\r\n    let todoList = cookie.load('todolist');\r\n\r\n    todoList = (typeof todoList === 'undefined') ? [] : todoList;\r\n    doneList = (typeof doneList === 'undefined') ? [] : doneList;\r\n\r\n    for (let item of [...todoList, ...doneList]) {\r\n      if (item.key > keyDefaultUniqueVal) {\r\n        keyDefaultUniqueVal = item.key;\r\n      }\r\n    }\r\n    if (keyDefaultUniqueVal > 0) {\r\n      keyDefaultUniqueVal++;\r\n    }\r\n\r\n    this.state = {\r\n      todoList: todoList,\r\n      doneList: doneList,\r\n      inputValue: ''\r\n    };\r\n    this.handleValueChange = this.handleValueChange.bind(this);\r\n    this.handleAddItem = this.handleAddItem.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.handleFinish = this.handleFinish.bind(this);\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n    this.handleClear = this.handleClear.bind(this);\r\n  }\r\n\r\n  decorateKeyValue (val, prefix) {\r\n    const p = prefix && typeof prefix === 'string' ? prefix : KEY_DEFAULT_PREFIX;\r\n    return '' + p + val;\r\n  }\r\n\r\n  genKeyValue () {\r\n    return keyDefaultUniqueVal++;\r\n  }\r\n\r\n  componentDidUpdate () {\r\n    const { todoList, doneList } = this.state;\r\n    cookie.save('donelist', doneList, {maxAge: COOKIES_MAX_AGE});\r\n    cookie.save('todolist', todoList, {maxAge: COOKIES_MAX_AGE});\r\n  }\r\n\r\n  handleValueChange (e) {\r\n    this.setState({\r\n      inputValue: e.target.value\r\n    });\r\n  }\r\n\r\n  handleAddItem (e) {\r\n    if (e.keyCode === 13) {\r\n      const inputValue = this.state.inputValue;\r\n      if (inputValue === '') {\r\n        alert('please input something!');\r\n        return;\r\n      }\r\n      this.setState(() => ({\r\n        todoList: [...this.state.todoList, {value: inputValue, key: this.genKeyValue()}],\r\n        inputValue: ''\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleDelete (index, type) {\r\n    if (TYPE_TODO === type) {\r\n      const list = [...this.state.todoList];\r\n      list.splice(index, 1);\r\n      this.setState({\r\n        todoList: list\r\n      });\r\n    } else if (TYPE_DONE === type) {\r\n      const list = [...this.state.doneList];\r\n      list.splice(index, 1);\r\n      this.setState({\r\n        doneList: list\r\n      });\r\n    }\r\n  }\r\n\r\n  handleFinish (index, type) {\r\n    let todoList = [...this.state.todoList];\r\n    let doneList = [...this.state.doneList];\r\n    if (type === TYPE_DONE) {\r\n      const tempList = doneList.splice(index, 1);\r\n      todoList = [...todoList, ...tempList];\r\n    } else if (type === TYPE_TODO) {\r\n      const tempList = todoList.splice(index, 1);\r\n      doneList = [...doneList, ...tempList];\r\n    }\r\n\r\n    this.setState({\r\n      todoList: todoList,\r\n      doneList: doneList\r\n    });\r\n  }\r\n\r\n  handleClear () {\r\n    this.setState(() => ({\r\n      todoList: [],\r\n      doneList: [],\r\n      inputValue: ''\r\n    }), () => {\r\n      keyDefaultUniqueVal = 0;\r\n    });\r\n  }\r\n\r\n  handleEdit (content, index, type) {\r\n    if (!content || content === '') {\r\n      alert('please input something!');\r\n      const todoList = [...this.state.todoList];\r\n      const doneList = [...this.state.doneList];\r\n      this.setState({\r\n        todoList: todoList,\r\n        doneList: doneList\r\n      });\r\n    } else {\r\n      if (type === TYPE_TODO) {\r\n        const list = [...this.state.todoList];\r\n        list[index].value = content;\r\n        this.setState({\r\n          todoList: list\r\n        });\r\n      } else if (type === TYPE_DONE) {\r\n        const list = [...this.state.doneList];\r\n        list[index].value = content;\r\n        this.setState({\r\n          doneList: list\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  showTodoItems() {\r\n    const { todoList } = this.state;\r\n    return (\r\n      <TransitionGroup>{\r\n        todoList.map((item, index) => (\r\n          <CSSTransition\r\n            key={this.decorateKeyValue(item.key)}\r\n            timeout={500}\r\n            classNames=\"fade\"\r\n            appear={true}\r\n          >\r\n            <TodoItem \r\n              type={TYPE_TODO}\r\n              index={index}\r\n              content={item.value} \r\n              done={false}\r\n              onDelete={this.handleDelete}\r\n              onFinish={this.handleFinish}\r\n              onEdit={this.handleEdit}\r\n            />\r\n          </CSSTransition>\r\n        ))\r\n      }</TransitionGroup>\r\n    )\r\n  }\r\n\r\n  showDoneItems() {\r\n    const { doneList } = this.state;\r\n    return (\r\n      <TransitionGroup>\r\n      {\r\n        doneList.map((item, index) => (\r\n          <CSSTransition\r\n            key={this.decorateKeyValue(item.key)}\r\n            timeout={500}\r\n            classNames=\"fade\"\r\n            appear={true}\r\n          >\r\n            <TodoItem\r\n              key={this.decorateKeyValue(item.key)}\r\n              type={TYPE_DONE}\r\n              index={index}\r\n              done={true}\r\n              content={item.value}\r\n              onDelete={this.handleDelete}\r\n              onFinish={this.handleFinish}\r\n              onEdit={this.handleEdit}\r\n            />\r\n          </CSSTransition>\r\n        ))\r\n      }\r\n      </TransitionGroup>\r\n    );\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"header\">\r\n          <div className=\"section header-section\">\r\n            <span className=\"left main-title\">ToDoList</span>\r\n            <div className=\"right\">\r\n              <input className=\"add-input-box\" placeholder=\"添加ToDo\" value={this.state.inputValue} onChange={this.handleValueChange} onKeyUp={this.handleAddItem}/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"content\">\r\n          <div className=\"section list-section\">\r\n            <span className=\"left title\">正在进行</span><span className=\"right count\">{this.state.todoList.length}</span>\r\n            <ul className=\"list todo-list\">\r\n              {this.showTodoItems()}\r\n            </ul>\r\n          </div>\r\n          <div className=\"section list-section\">\r\n            <span className=\"left title\">已经完成</span><span className=\"right count\">{this.state.doneList.length}</span>\r\n            <ul className=\"list done-list\">\r\n              {this.showDoneItems()}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer\">\r\n          <div className=\"section footer-section\">\r\n            <span className=\"copyright\">Copyright © 2019 qiang</span>\r\n            <span className=\"clear-btn\" onClick={this.handleClear}>clear</span>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TodoList;","import 'babel-polyfill';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport TodoList from './TodoList';\r\n\r\nReactDOM.render(<TodoList />, document.getElementById('root'));\r\n"],"sourceRoot":""}